---
title: "Benson Wathigo Analysis"
author: "Your Name"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(reticulate)
use_python("C:/Users/User/AppData/Local/Programs/Python/Python312/python.exe", required = TRUE)


```python
import pandas as pd 
import numpy as np 
import seaborn as sns
import matplotlib.pyplot as plt
import geopandas as gpd
```


```python
hiv_df = pd.read_csv("HIV data 2000-2023.csv",  encoding='ISO-8859-1')
```


```python
hiv_df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 1552 entries, 0 to 1551
    Data columns (total 11 columns):
     #   Column               Non-Null Count  Dtype 
    ---  ------               --------------  ----- 
     0   IndicatorCode        1552 non-null   object
     1   Indicator            1552 non-null   object
     2   ValueType            1552 non-null   object
     3   ParentLocationCode   1552 non-null   object
     4   ParentLocation       1552 non-null   object
     5   Location type        1552 non-null   object
     6   SpatialDimValueCode  1552 non-null   object
     7   Location             1552 non-null   object
     8   Period type          1552 non-null   object
     9   Period               1552 non-null   int64 
     10  Value                1552 non-null   object
    dtypes: int64(1), object(10)
    memory usage: 133.5+ KB
    


```python
hiv_df.shape
```




    (1552, 11)




```python
hiv_df.isnull().sum()
```




    IndicatorCode          0
    Indicator              0
    ValueType              0
    ParentLocationCode     0
    ParentLocation         0
    Location type          0
    SpatialDimValueCode    0
    Location               0
    Period type            0
    Period                 0
    Value                  0
    dtype: int64




```python
hiv_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IndicatorCode</th>
      <th>Indicator</th>
      <th>ValueType</th>
      <th>ParentLocationCode</th>
      <th>ParentLocation</th>
      <th>Location type</th>
      <th>SpatialDimValueCode</th>
      <th>Location</th>
      <th>Period type</th>
      <th>Period</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2023</td>
      <td>320 000 [280 000 - 380 000]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2022</td>
      <td>320 000 [280 000 - 380 000]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2021</td>
      <td>320 000 [280 000 - 380 000]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2020</td>
      <td>320 000 [280 000 - 370 000]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2015</td>
      <td>300 000 [260 000 - 350 000]</td>
    </tr>
  </tbody>
</table>
</div>




```python
hiv_df['HIV_Estimate'] = hiv_df['Value'].str.extract(r'(\d+[\s\d]*)')[0].str.replace(" ","").astype(float)
```


```python
hiv_df = hiv_df.dropna(subset = 'HIV_Estimate')
```


```python
hiv_sum = hiv_df.groupby('Location')['HIV_Estimate'].sum().sort_values(ascending=False)
hiv_sum_cumsum = hiv_sum.cumsum() / hiv_sum.sum()
top_countries = hiv_sum_cumsum[hiv_sum_cumsum <= 0.75].index#sort_values(ascending = False)
top_countries
```




    Index(['South Africa', 'Mozambique', 'Nigeria', 'Kenya',
           'United Republic of Tanzania', 'Zimbabwe', 'Uganda', 'Zambia', 'Malawi',
           'Brazil', 'Thailand', 'Ethiopia', 'Democratic Republic of the Congo',
           'Cote d'Ivoire'],
          dtype='object', name='Location')




```python
top_df = hiv_df[hiv_df['Location'].isin(top_countries)]
top_df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IndicatorCode</th>
      <th>Indicator</th>
      <th>ValueType</th>
      <th>ParentLocationCode</th>
      <th>ParentLocation</th>
      <th>Location type</th>
      <th>SpatialDimValueCode</th>
      <th>Location</th>
      <th>Period type</th>
      <th>Period</th>
      <th>Value</th>
      <th>HIV_Estimate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>48</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>CIV</td>
      <td>Cote d'Ivoire</td>
      <td>Year</td>
      <td>2023</td>
      <td>420 000 [370 000 - 480 000]</td>
      <td>420000.0</td>
    </tr>
    <tr>
      <th>49</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>CIV</td>
      <td>Cote d'Ivoire</td>
      <td>Year</td>
      <td>2022</td>
      <td>430 000 [380 000 - 490 000]</td>
      <td>430000.0</td>
    </tr>
    <tr>
      <th>50</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>CIV</td>
      <td>Cote d'Ivoire</td>
      <td>Year</td>
      <td>2021</td>
      <td>430 000 [390 000 - 490 000]</td>
      <td>430000.0</td>
    </tr>
    <tr>
      <th>51</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>CIV</td>
      <td>Cote d'Ivoire</td>
      <td>Year</td>
      <td>2020</td>
      <td>440 000 [390 000 - 490 000]</td>
      <td>440000.0</td>
    </tr>
    <tr>
      <th>52</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>CIV</td>
      <td>Cote d'Ivoire</td>
      <td>Year</td>
      <td>2015</td>
      <td>460 000 [420 000 - 510 000]</td>
      <td>460000.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1323</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>SEAR</td>
      <td>South-East Asia</td>
      <td>Country</td>
      <td>THA</td>
      <td>Thailand</td>
      <td>Year</td>
      <td>2020</td>
      <td>590 000 [530 000 - 680 000]</td>
      <td>590000.0</td>
    </tr>
    <tr>
      <th>1324</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>SEAR</td>
      <td>South-East Asia</td>
      <td>Country</td>
      <td>THA</td>
      <td>Thailand</td>
      <td>Year</td>
      <td>2015</td>
      <td>640 000 [580 000 - 730 000]</td>
      <td>640000.0</td>
    </tr>
    <tr>
      <th>1325</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>SEAR</td>
      <td>South-East Asia</td>
      <td>Country</td>
      <td>THA</td>
      <td>Thailand</td>
      <td>Year</td>
      <td>2010</td>
      <td>720 000 [630 000 - 790 000]</td>
      <td>720000.0</td>
    </tr>
    <tr>
      <th>1326</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>SEAR</td>
      <td>South-East Asia</td>
      <td>Country</td>
      <td>THA</td>
      <td>Thailand</td>
      <td>Year</td>
      <td>2005</td>
      <td>810 000 [720 000 - 910 000]</td>
      <td>810000.0</td>
    </tr>
    <tr>
      <th>1327</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>SEAR</td>
      <td>South-East Asia</td>
      <td>Country</td>
      <td>THA</td>
      <td>Thailand</td>
      <td>Year</td>
      <td>2000</td>
      <td>920 000 [820 000 - 1 000 000]</td>
      <td>920000.0</td>
    </tr>
  </tbody>
</table>
<p>112 rows × 12 columns</p>
</div>




```python
plt.figure(figsize = (10,7))
sns.lineplot(data = top_df, x='Period', y = 'HIV_Estimate', hue = "Location")
plt.title('HIV Trends in Countries Contributing to 75% of Global Burden')
plt.show()
```


    
![png](Benson_Wathigo_files/Benson_Wathigo_10_0.png)
    


# Plot 2
Trend of HIV cases in the countries contributing to 75% of the burden within each WHO region



```python
hiv_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IndicatorCode</th>
      <th>Indicator</th>
      <th>ValueType</th>
      <th>ParentLocationCode</th>
      <th>ParentLocation</th>
      <th>Location type</th>
      <th>SpatialDimValueCode</th>
      <th>Location</th>
      <th>Period type</th>
      <th>Period</th>
      <th>Value</th>
      <th>HIV_Estimate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2023</td>
      <td>320 000 [280 000 - 380 000]</td>
      <td>320000.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2022</td>
      <td>320 000 [280 000 - 380 000]</td>
      <td>320000.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2021</td>
      <td>320 000 [280 000 - 380 000]</td>
      <td>320000.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2020</td>
      <td>320 000 [280 000 - 370 000]</td>
      <td>320000.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>Year</td>
      <td>2015</td>
      <td>300 000 [260 000 - 350 000]</td>
      <td>300000.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
regions = hiv_df['ParentLocation'].unique()
```


```python
for region in regions:
    regional_df = hiv_df[hiv_df['ParentLocation'] == region]
    countries = regional_df.groupby('Location')['HIV_Estimate'].sum().sort_values(ascending = False)
    cummilative = countries.cumsum()/ countries.sum()
    top_75_countries = cummilative[cummilative <= 0.75].index
    #.sds
    top_regional = regional_df[regional_df['Location'].isin(top_75_countries)]
    #hg
    sns.lineplot(data = top_regional, x= 'Period', y = 'HIV_Estimate', hue = 'Location')
    plt.ylabel("HIV Estimates")
    plt.xlabel('Years')
    plt.title('trend of HIV cases in the countries contributing to 75% of the burden within each WHO region')
    plt.xticks(rotation=45)
    plt.legend()
    plt.show()



```


    
![png](Benson_Wathigo_files/Benson_Wathigo_14_0.png)
    



    
![png](Benson_Wathigo_files/Benson_Wathigo_14_1.png)
    



    
![png](Benson_Wathigo_files/Benson_Wathigo_14_2.png)
    



    
![png](Benson_Wathigo_files/Benson_Wathigo_14_3.png)
    



    
![png](Benson_Wathigo_files/Benson_Wathigo_14_4.png)
    



    
![png](Benson_Wathigo_files/Benson_Wathigo_14_5.png)
    



```python
top_75_countries
```




    Index(['Viet Nam', 'Philippines', 'Cambodia'], dtype='object', name='Location')



# Poverty data 
World Bank data on the multidimensional poverty headcount ratio, which includes factors such as income, educational attainment, school enrolment, electricity access, sanitation and drinking water.


```python
poverty_df = pd.read_excel("copy.xlsx")
```


```python
poverty_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Region</th>
      <th>Country code</th>
      <th>Economy</th>
      <th>Reporting year</th>
      <th>Survey name</th>
      <th>Survey year</th>
      <th>Survey coverage</th>
      <th>Welfare type</th>
      <th>Survey comparability</th>
      <th>Monetary (%)</th>
      <th>Educational attainment (%)</th>
      <th>Educational enrollment (%)</th>
      <th>Electricity (%)</th>
      <th>Sanitation (%)</th>
      <th>Drinking water (%)</th>
      <th>Multidimensional poverty headcount ratio (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>SSA</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>2018</td>
      <td>IDREA</td>
      <td>2018</td>
      <td>N</td>
      <td>c</td>
      <td>2</td>
      <td>31.122005</td>
      <td>29.753423</td>
      <td>27.44306</td>
      <td>52.639532</td>
      <td>53.637516</td>
      <td>32.106507</td>
      <td>47.203606</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ECA</td>
      <td>ALB</td>
      <td>Albania</td>
      <td>2012</td>
      <td>HBS</td>
      <td>2018</td>
      <td>N</td>
      <td>c</td>
      <td>1</td>
      <td>0.048107</td>
      <td>0.19238</td>
      <td>-</td>
      <td>0.06025</td>
      <td>6.579772</td>
      <td>9.594966</td>
      <td>0.293161</td>
    </tr>
    <tr>
      <th>2</th>
      <td>LAC</td>
      <td>ARG</td>
      <td>Argentina</td>
      <td>2010</td>
      <td>EPHC-S2</td>
      <td>2021</td>
      <td>U</td>
      <td>i</td>
      <td>3</td>
      <td>0.894218</td>
      <td>1.08532</td>
      <td>0.731351</td>
      <td>0</td>
      <td>0.257453</td>
      <td>0.364048</td>
      <td>0.906573</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ECA</td>
      <td>ARM</td>
      <td>Armenia</td>
      <td>2010</td>
      <td>ILCS</td>
      <td>2021</td>
      <td>N</td>
      <td>c</td>
      <td>1</td>
      <td>0.523521</td>
      <td>0</td>
      <td>1.793004</td>
      <td>0</td>
      <td>0.397725</td>
      <td>0.660082</td>
      <td>0.523521</td>
    </tr>
    <tr>
      <th>4</th>
      <td>EAP</td>
      <td>AUS</td>
      <td>Australia</td>
      <td>2010</td>
      <td>SIH-LIS</td>
      <td>2018</td>
      <td>N</td>
      <td>I</td>
      <td>3</td>
      <td>0.516880</td>
      <td>1.71188</td>
      <td>-</td>
      <td>0</td>
      <td>0</td>
      <td>-</td>
      <td>2.215770</td>
    </tr>
  </tbody>
</table>
</div>




```python
poverty_df.isnull().sum()
```




    Region                                          0
    Country code                                    0
    Economy                                         0
    Reporting year                                  0
    Survey name                                     0
    Survey year                                     0
    Survey coverage                                 0
    Welfare type                                    0
    Survey comparability                            0
    Monetary (%)                                    0
    Educational attainment (%)                      0
    Educational enrollment (%)                      0
    Electricity (%)                                 0
    Sanitation (%)                                  0
    Drinking water (%)                              0
    Multidimensional poverty headcount ratio (%)    0
    dtype: int64




```python
# Standardize column names
hiv_df.rename(columns={'Location': 'Country', 'Period': 'Year'}, inplace=True)
poverty_df.rename(columns ={'Economy': 'Country', 'Reporting year': 'Year'}, inplace=True)  # adjust if different

```


```python
poverty_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Region</th>
      <th>Country code</th>
      <th>Country</th>
      <th>Year</th>
      <th>Survey name</th>
      <th>Survey year</th>
      <th>Survey coverage</th>
      <th>Welfare type</th>
      <th>Survey comparability</th>
      <th>Monetary (%)</th>
      <th>Educational attainment (%)</th>
      <th>Educational enrollment (%)</th>
      <th>Electricity (%)</th>
      <th>Sanitation (%)</th>
      <th>Drinking water (%)</th>
      <th>Multidimensional poverty headcount ratio (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>SSA</td>
      <td>AGO</td>
      <td>Angola</td>
      <td>2018</td>
      <td>IDREA</td>
      <td>2018</td>
      <td>N</td>
      <td>c</td>
      <td>2</td>
      <td>31.122005</td>
      <td>29.753423</td>
      <td>27.44306</td>
      <td>52.639532</td>
      <td>53.637516</td>
      <td>32.106507</td>
      <td>47.203606</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ECA</td>
      <td>ALB</td>
      <td>Albania</td>
      <td>2012</td>
      <td>HBS</td>
      <td>2018</td>
      <td>N</td>
      <td>c</td>
      <td>1</td>
      <td>0.048107</td>
      <td>0.19238</td>
      <td>-</td>
      <td>0.06025</td>
      <td>6.579772</td>
      <td>9.594966</td>
      <td>0.293161</td>
    </tr>
    <tr>
      <th>2</th>
      <td>LAC</td>
      <td>ARG</td>
      <td>Argentina</td>
      <td>2010</td>
      <td>EPHC-S2</td>
      <td>2021</td>
      <td>U</td>
      <td>i</td>
      <td>3</td>
      <td>0.894218</td>
      <td>1.08532</td>
      <td>0.731351</td>
      <td>0</td>
      <td>0.257453</td>
      <td>0.364048</td>
      <td>0.906573</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ECA</td>
      <td>ARM</td>
      <td>Armenia</td>
      <td>2010</td>
      <td>ILCS</td>
      <td>2021</td>
      <td>N</td>
      <td>c</td>
      <td>1</td>
      <td>0.523521</td>
      <td>0</td>
      <td>1.793004</td>
      <td>0</td>
      <td>0.397725</td>
      <td>0.660082</td>
      <td>0.523521</td>
    </tr>
    <tr>
      <th>4</th>
      <td>EAP</td>
      <td>AUS</td>
      <td>Australia</td>
      <td>2010</td>
      <td>SIH-LIS</td>
      <td>2018</td>
      <td>N</td>
      <td>I</td>
      <td>3</td>
      <td>0.516880</td>
      <td>1.71188</td>
      <td>-</td>
      <td>0</td>
      <td>0</td>
      <td>-</td>
      <td>2.215770</td>
    </tr>
  </tbody>
</table>
</div>




```python
merged_df = pd.merge(hiv_df, poverty_df, on=['Country', 'Year'], how='inner')
merged_df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>IndicatorCode</th>
      <th>Indicator</th>
      <th>ValueType</th>
      <th>ParentLocationCode</th>
      <th>ParentLocation</th>
      <th>Location type</th>
      <th>SpatialDimValueCode</th>
      <th>Country</th>
      <th>Period type</th>
      <th>Year</th>
      <th>...</th>
      <th>Survey coverage</th>
      <th>Welfare type</th>
      <th>Survey comparability</th>
      <th>Monetary (%)</th>
      <th>Educational attainment (%)</th>
      <th>Educational enrollment (%)</th>
      <th>Electricity (%)</th>
      <th>Sanitation (%)</th>
      <th>Drinking water (%)</th>
      <th>Multidimensional poverty headcount ratio (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>BEN</td>
      <td>Benin</td>
      <td>Year</td>
      <td>2015</td>
      <td>...</td>
      <td>N</td>
      <td>c</td>
      <td>1</td>
      <td>12.723279</td>
      <td>49.023893</td>
      <td>31.661823</td>
      <td>34.818304</td>
      <td>76.649594</td>
      <td>24.10913</td>
      <td>45.443240</td>
    </tr>
    <tr>
      <th>1</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>CIV</td>
      <td>Cote d'Ivoire</td>
      <td>Year</td>
      <td>2015</td>
      <td>...</td>
      <td>N</td>
      <td>c</td>
      <td>2</td>
      <td>9.733193</td>
      <td>44.493997</td>
      <td>24.717054</td>
      <td>9.26495</td>
      <td>59.909374</td>
      <td>17.286547</td>
      <td>29.177094</td>
    </tr>
    <tr>
      <th>2</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>GNB</td>
      <td>Guinea-Bissau</td>
      <td>Year</td>
      <td>2010</td>
      <td>...</td>
      <td>N</td>
      <td>c</td>
      <td>3</td>
      <td>25.962856</td>
      <td>20.071073</td>
      <td>31.059781</td>
      <td>27.57051</td>
      <td>60.362864</td>
      <td>20.897064</td>
      <td>38.730049</td>
    </tr>
    <tr>
      <th>3</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>KEN</td>
      <td>Kenya</td>
      <td>Year</td>
      <td>2015</td>
      <td>...</td>
      <td>N</td>
      <td>c</td>
      <td>3</td>
      <td>36.146057</td>
      <td>10.055726</td>
      <td>1.179968</td>
      <td>24.500306</td>
      <td>22.312516</td>
      <td>36.060327</td>
      <td>38.490102</td>
    </tr>
    <tr>
      <th>4</th>
      <td>HIV_0000000001</td>
      <td>Estimated number of people (all ages) living w...</td>
      <td>numeric</td>
      <td>AFR</td>
      <td>Africa</td>
      <td>Country</td>
      <td>MWI</td>
      <td>Malawi</td>
      <td>Year</td>
      <td>2010</td>
      <td>...</td>
      <td>N</td>
      <td>c</td>
      <td>1</td>
      <td>70.060599</td>
      <td>54.329389</td>
      <td>3.686354</td>
      <td>88.757396</td>
      <td>75.137657</td>
      <td>11.400399</td>
      <td>78.252000</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div>




```python
merged_df.columns  # run this to know the actual column names
```




    Index(['IndicatorCode', 'Indicator', 'ValueType', 'ParentLocationCode',
           'ParentLocation', 'Location type', 'SpatialDimValueCode', 'Country',
           'Period type', 'Year', 'Value', 'HIV_Estimate', 'Region',
           'Country code', 'Survey name', 'Survey year', 'Survey coverage',
           'Welfare type', 'Survey comparability', 'Monetary (%)',
           'Educational attainment (%)', 'Educational enrollment (%)',
           'Electricity (%)', 'Sanitation (%)', 'Drinking water (%)',
           'Multidimensional poverty headcount ratio (%)'],
          dtype='object')




```python
merged_df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 38 entries, 0 to 37
    Data columns (total 26 columns):
     #   Column                                        Non-Null Count  Dtype  
    ---  ------                                        --------------  -----  
     0   IndicatorCode                                 38 non-null     object 
     1   Indicator                                     38 non-null     object 
     2   ValueType                                     38 non-null     object 
     3   ParentLocationCode                            38 non-null     object 
     4   ParentLocation                                38 non-null     object 
     5   Location type                                 38 non-null     object 
     6   SpatialDimValueCode                           38 non-null     object 
     7   Country                                       38 non-null     object 
     8   Period type                                   38 non-null     object 
     9   Year                                          38 non-null     int64  
     10  Value                                         38 non-null     object 
     11  HIV_Estimate                                  38 non-null     float64
     12  Region                                        38 non-null     object 
     13  Country code                                  38 non-null     object 
     14  Survey name                                   38 non-null     object 
     15  Survey year                                   38 non-null     int64  
     16  Survey coverage                               38 non-null     object 
     17  Welfare type                                  38 non-null     object 
     18  Survey comparability                          38 non-null     int64  
     19  Monetary (%)                                  38 non-null     float64
     20  Educational attainment (%)                    38 non-null     object 
     21  Educational enrollment (%)                    38 non-null     object 
     22  Electricity (%)                               38 non-null     object 
     23  Sanitation (%)                                38 non-null     object 
     24  Drinking water (%)                            38 non-null     object 
     25  Multidimensional poverty headcount ratio (%)  38 non-null     float64
    dtypes: float64(3), int64(3), object(20)
    memory usage: 7.8+ KB
    

# Checkpoint
Saving as my merged dataset as a csv


```python
merged_df.to_csv('merged_hiv_data.csv', index=False)
```


```python
import os
print(os.getcwd())

```

    C:\Users\User\Documents\CEMA Projects
    

# Summary

The analysis explored the relationship between HIV prevalence and multidimensional poverty across African countries from 2000 to 2023. By identifying the countries that contribute to 75% of the global and regional HIV burden, we were able to highlight priority areas for targeted health interventions. A merged dataset from WHO and the World Bank revealed a positive correlation between the number of people living with HIV and higher multidimensional poverty headcount ratios in most countries. Countries with limited access to basic services—such as education, clean water, sanitation, and electricity—tended to have higher HIV rates, suggesting that structural inequalities may perpetuate both poverty and disease. 
Benin and Guinea-Bissau did not agree with our earlier analysis. Despite 
having higher poverty index ratios of 45% and 39%, the sum of their HIV estimates was quite low compared to their counterparts (71,000 and 31,000)

![image.png](Benson_Wathigo_files/07544fbf-cfb6-4d8b-b842-4f90f30ea8ec.png)

 These findings emphasize the need for integrated policies that simultaneously address health and socioeconomic conditions, particularly in sub-Saharan Africa, to curb the spread of HIV and improve the quality of life for affected populations.


```python

```

# Question 2

You have been provided with data on the under-five mortality rate and neonatal mortality rate for the African region, which has been downloaded from the UN Inter-agency Group for Child Mortality Estimation. Your task is to:



Filter data for the eight countries belonging to the East African Community (list here: https://www.eac.int/overview-of-ea.c)

Visualize the latest estimate of each indicator at the country level using shapefiles, which can be downloaded from www.gadm.org.

Show the average trends in the mortality rates over time (plot the average trend line and add the points in the graphic for the country level estimates for each indicator. Expectation: two plo
ts).

Based on your visualizations, identify the countries with the highest under-five mortality rates in East Africa and the highest neonatal mortality.




```python
Eatern_Africa_Countries = ['South Sudan', 'Kenya', 'Tanzania', 'Uganda', 'Somalia', 'Democratic Republic of the Congo', 'Rwanda', 'Burundi']
```


```python
under_5 = pd.read_csv('under_five mortality rate.csv')
neonatal = pd.read_csv('neonatal_mortality_rate.csv')
dataset_raw = pd.read_csv('dataset_datascience.csv', encoding ='ISO-8859-1')

print (under_5.shape)
print(neonatal.shape)
print (dataset_raw.shape)
```

    (44, 44)
    (34, 44)
    (129564, 23)
    

    C:\Users\User\AppData\Local\Temp\ipykernel_9576\2507977371.py:3: DtypeWarning: Columns (2) have mixed types. Specify dtype option on import or set low_memory=False.
      dataset_raw = pd.read_csv('dataset_datascience.csv', encoding ='ISO-8859-1')
    

# Under 5 clean up


```python
under_5.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>REF_AREA</th>
      <th>Geographic area</th>
      <th>INDICATOR</th>
      <th>Indicator</th>
      <th>SEX</th>
      <th>Sex</th>
      <th>WEALTH_QUINTILE</th>
      <th>Wealth Quintile</th>
      <th>SERIES_NAME</th>
      <th>Series Name</th>
      <th>...</th>
      <th>DEFINITION</th>
      <th>INTERVAL</th>
      <th>SERIES_METHOD</th>
      <th>Series Method</th>
      <th>LOWER_BOUND</th>
      <th>UPPER_BOUND</th>
      <th>STATUS</th>
      <th>YEAR_TO_ACHIEVE</th>
      <th>MODEL</th>
      <th>Model Used</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>198.675695</td>
      <td>209.928512</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>195.249935</td>
      <td>205.879194</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>192.162302</td>
      <td>202.345691</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>199.321189</td>
      <td>209.822892</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>196.677399</td>
      <td>206.697079</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 44 columns</p>
</div>




```python
under_5.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 44 entries, 0 to 43
    Data columns (total 44 columns):
     #   Column                  Non-Null Count  Dtype  
    ---  ------                  --------------  -----  
     0   REF_AREA                44 non-null     object 
     1   Geographic area         44 non-null     object 
     2   INDICATOR               44 non-null     object 
     3   Indicator               44 non-null     object 
     4   SEX                     44 non-null     object 
     5   Sex                     44 non-null     object 
     6   WEALTH_QUINTILE         44 non-null     object 
     7   Wealth Quintile         44 non-null     object 
     8   SERIES_NAME             44 non-null     object 
     9   Series Name             44 non-null     object 
     10  SERIES_YEAR             44 non-null     int64  
     11  Series Year             44 non-null     int64  
     12  REGIONAL_GROUP          0 non-null      float64
     13  Regional group          0 non-null      float64
     14  TIME_PERIOD             44 non-null     object 
     15  OBS_VALUE               44 non-null     float64
     16  COUNTRY_NOTES           0 non-null      float64
     17  CONNECTION              0 non-null      float64
     18  DEATH_CATEGORY          0 non-null      float64
     19  CATEGORY                0 non-null      float64
     20  OBS_STATUS              44 non-null     object 
     21  Observation Status      44 non-null     object 
     22  UNIT_MEASURE            44 non-null     object 
     23  Unit of measure         44 non-null     object 
     24  SERIES_CATEGORY         0 non-null      float64
     25  Series Category         0 non-null      float64
     26  SERIES_TYPE             0 non-null      float64
     27  Series Type             0 non-null      float64
     28  STD_ERR                 0 non-null      float64
     29  REF_DATE                44 non-null     float64
     30  AGE_GROUP_OF_WOMEN      0 non-null      float64
     31  Age Group of Women      0 non-null      float64
     32  TIME_SINCE_FIRST_BIRTH  0 non-null      float64
     33  Time Since First Birth  0 non-null      float64
     34  DEFINITION              0 non-null      float64
     35  INTERVAL                44 non-null     int64  
     36  SERIES_METHOD           0 non-null      float64
     37  Series Method           0 non-null      float64
     38  LOWER_BOUND             44 non-null     float64
     39  UPPER_BOUND             44 non-null     float64
     40  STATUS                  0 non-null      float64
     41  YEAR_TO_ACHIEVE         0 non-null      float64
     42  MODEL                   0 non-null      float64
     43  Model Used              0 non-null      float64
    dtypes: float64(26), int64(3), object(15)
    memory usage: 15.3+ KB
    


```python
under_5.isnull().sum()
```




    REF_AREA                   0
    Geographic area            0
    INDICATOR                  0
    Indicator                  0
    SEX                        0
    Sex                        0
    WEALTH_QUINTILE            0
    Wealth Quintile            0
    SERIES_NAME                0
    Series Name                0
    SERIES_YEAR                0
    Series Year                0
    REGIONAL_GROUP            44
    Regional group            44
    TIME_PERIOD                0
    OBS_VALUE                  0
    COUNTRY_NOTES             44
    CONNECTION                44
    DEATH_CATEGORY            44
    CATEGORY                  44
    OBS_STATUS                 0
    Observation Status         0
    UNIT_MEASURE               0
    Unit of measure            0
    SERIES_CATEGORY           44
    Series Category           44
    SERIES_TYPE               44
    Series Type               44
    STD_ERR                   44
    REF_DATE                   0
    AGE_GROUP_OF_WOMEN        44
    Age Group of Women        44
    TIME_SINCE_FIRST_BIRTH    44
    Time Since First Birth    44
    DEFINITION                44
    INTERVAL                   0
    SERIES_METHOD             44
    Series Method             44
    LOWER_BOUND                0
    UPPER_BOUND                0
    STATUS                    44
    YEAR_TO_ACHIEVE           44
    MODEL                     44
    Model Used                44
    dtype: int64




```python
under_5 = under_5.dropna(axis =1 , how = 'all')
under_5_clean = under_5.drop(['SEX', 'WEALTH_QUINTILE', 'SERIES_NAME', 'SERIES_YEAR', 'REF_AREA', 'OBS_STATUS', 'UNIT_MEASURE'], axis = 1)
```


```python
under_5.isnull().sum()
```




    REF_AREA              0
    Geographic area       0
    INDICATOR             0
    Indicator             0
    SEX                   0
    Sex                   0
    WEALTH_QUINTILE       0
    Wealth Quintile       0
    SERIES_NAME           0
    Series Name           0
    SERIES_YEAR           0
    Series Year           0
    TIME_PERIOD           0
    OBS_VALUE             0
    OBS_STATUS            0
    Observation Status    0
    UNIT_MEASURE          0
    Unit of measure       0
    REF_DATE              0
    INTERVAL              0
    LOWER_BOUND           0
    UPPER_BOUND           0
    dtype: int64




```python
under_5_clean.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Geographic area</th>
      <th>INDICATOR</th>
      <th>Indicator</th>
      <th>Sex</th>
      <th>Wealth Quintile</th>
      <th>Series Name</th>
      <th>Series Year</th>
      <th>TIME_PERIOD</th>
      <th>OBS_VALUE</th>
      <th>Observation Status</th>
      <th>Unit of measure</th>
      <th>REF_DATE</th>
      <th>INTERVAL</th>
      <th>LOWER_BOUND</th>
      <th>UPPER_BOUND</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1980-06</td>
      <td>203.808836</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1980.5</td>
      <td>1</td>
      <td>198.675695</td>
      <td>209.928512</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1981-06</td>
      <td>200.183725</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1981.5</td>
      <td>1</td>
      <td>195.249935</td>
      <td>205.879194</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1982-06</td>
      <td>196.907824</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1982.5</td>
      <td>1</td>
      <td>192.162302</td>
      <td>202.345691</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1983-06</td>
      <td>204.178538</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1983.5</td>
      <td>1</td>
      <td>199.321189</td>
      <td>209.822892</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Sub-Saharan Africa</td>
      <td>MRY0T4</td>
      <td>Under-five mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1984-06</td>
      <td>201.333344</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1984.5</td>
      <td>1</td>
      <td>196.677399</td>
      <td>206.697079</td>
    </tr>
  </tbody>
</table>
</div>



# Neonatal data clean up


```python
neonatal.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>REF_AREA</th>
      <th>Geographic area</th>
      <th>INDICATOR</th>
      <th>Indicator</th>
      <th>SEX</th>
      <th>Sex</th>
      <th>WEALTH_QUINTILE</th>
      <th>Wealth Quintile</th>
      <th>SERIES_NAME</th>
      <th>Series Name</th>
      <th>...</th>
      <th>DEFINITION</th>
      <th>INTERVAL</th>
      <th>SERIES_METHOD</th>
      <th>Series Method</th>
      <th>LOWER_BOUND</th>
      <th>UPPER_BOUND</th>
      <th>STATUS</th>
      <th>YEAR_TO_ACHIEVE</th>
      <th>MODEL</th>
      <th>Model Used</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>43.782426</td>
      <td>47.617352</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>43.413053</td>
      <td>47.180684</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>43.084346</td>
      <td>46.798108</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>42.653348</td>
      <td>46.304417</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>UNSDG_SUBSAHARANAFRICA</td>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>_T</td>
      <td>Total</td>
      <td>_T</td>
      <td>Total</td>
      <td>UN_IGME</td>
      <td>UN IGME estimate</td>
      <td>...</td>
      <td>NaN</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>42.378536</td>
      <td>45.948982</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 44 columns</p>
</div>




```python
neonatal = neonatal.dropna(axis=1, how = 'all')
neonatal_clean = neonatal.drop(['SEX', 'WEALTH_QUINTILE', 'SERIES_NAME', 'SERIES_YEAR', 'REF_AREA', 'OBS_STATUS', 'UNIT_MEASURE'], axis = 1)
```


```python
neonatal_clean.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Geographic area</th>
      <th>INDICATOR</th>
      <th>Indicator</th>
      <th>Sex</th>
      <th>Wealth Quintile</th>
      <th>Series Name</th>
      <th>Series Year</th>
      <th>TIME_PERIOD</th>
      <th>OBS_VALUE</th>
      <th>Observation Status</th>
      <th>Unit of measure</th>
      <th>REF_DATE</th>
      <th>INTERVAL</th>
      <th>LOWER_BOUND</th>
      <th>UPPER_BOUND</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1990-06</td>
      <td>45.540454</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1990.5</td>
      <td>1</td>
      <td>43.782426</td>
      <td>47.617352</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1991-06</td>
      <td>45.168315</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1991.5</td>
      <td>1</td>
      <td>43.413053</td>
      <td>47.180684</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1992-06</td>
      <td>44.832214</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1992.5</td>
      <td>1</td>
      <td>43.084346</td>
      <td>46.798108</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1993-06</td>
      <td>44.368553</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1993.5</td>
      <td>1</td>
      <td>42.653348</td>
      <td>46.304417</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Sub-Saharan Africa</td>
      <td>MRM0</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023</td>
      <td>1994-06</td>
      <td>44.034577</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>1994.5</td>
      <td>1</td>
      <td>42.378536</td>
      <td>45.948982</td>
    </tr>
  </tbody>
</table>
</div>




```python
neonatal_clean.isnull().sum()
```




    Geographic area       0
    INDICATOR             0
    Indicator             0
    Sex                   0
    Wealth Quintile       0
    Series Name           0
    Series Year           0
    TIME_PERIOD           0
    OBS_VALUE             0
    Observation Status    0
    Unit of measure       0
    REF_DATE              0
    INTERVAL              0
    LOWER_BOUND           0
    UPPER_BOUND           0
    dtype: int64



# Dataset clean up


```python
dataset_raw.columns = dataset_raw.columns.str.strip()
dataset_raw['Series Year'] = pd.to_numeric(dataset_raw['Series Year'], errors='coerce')
```


```python
dataset_raw = dataset_raw.dropna(axis = 1, how = 'all')
dataset_raw = dataset_raw.drop(['Regional group', 'Age Group of Women', 'Time Since First Birth', 'Country notes', 'REF_AREA'], axis =1 )
dataset_raw['Geographic area'] = dataset_raw['Geographic area'].replace('United Republic of Tanzania', 'Tanzania')
dataset = dataset_raw[dataset_raw['Series Year'] == 2023]

dataset.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Geographic area</th>
      <th>Indicator</th>
      <th>Sex</th>
      <th>Wealth Quintile</th>
      <th>Series Name</th>
      <th>Series Year</th>
      <th>Reference Date</th>
      <th>Observation Value</th>
      <th>Lower Bound</th>
      <th>Upper Bound</th>
      <th>Standard Error</th>
      <th>Observation Status</th>
      <th>Unit of measure</th>
      <th>Series Type</th>
      <th>Series Category</th>
      <th>Series Method</th>
      <th>Interval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>45</th>
      <td>Afghanistan</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1987.5</td>
      <td>80.894282</td>
      <td>71.336128</td>
      <td>91.875001</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Afghanistan</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1988.5</td>
      <td>79.004725</td>
      <td>70.007998</td>
      <td>89.155115</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>47</th>
      <td>Afghanistan</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1989.5</td>
      <td>77.007314</td>
      <td>68.627240</td>
      <td>86.593612</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>48</th>
      <td>Afghanistan</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1990.5</td>
      <td>75.519262</td>
      <td>67.560924</td>
      <td>84.609468</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Afghanistan</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1991.5</td>
      <td>73.983039</td>
      <td>66.254592</td>
      <td>82.590049</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
dataset.shape
```




    (86897, 17)




```python
dataset.isnull().sum()
```




    Geographic area           0
    Indicator                 0
    Sex                       0
    Wealth Quintile           0
    Series Name               0
    Series Year               0
    Reference Date            0
    Observation Value         0
    Lower Bound           12948
    Upper Bound           12948
    Standard Error        86554
    Observation Status        0
    Unit of measure           0
    Series Type           73949
    Series Category       73949
    Series Method         73949
    Interval                 36
    dtype: int64




```python
dataset_east_africa = dataset[dataset['Geographic area'].isin(Eatern_Africa_Countries)]
dataset_east_africa.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Geographic area</th>
      <th>Indicator</th>
      <th>Sex</th>
      <th>Wealth Quintile</th>
      <th>Series Name</th>
      <th>Series Year</th>
      <th>Reference Date</th>
      <th>Observation Value</th>
      <th>Lower Bound</th>
      <th>Upper Bound</th>
      <th>Standard Error</th>
      <th>Observation Status</th>
      <th>Unit of measure</th>
      <th>Series Type</th>
      <th>Series Category</th>
      <th>Series Method</th>
      <th>Interval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6402</th>
      <td>Burundi</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1964.5</td>
      <td>49.749877</td>
      <td>38.866551</td>
      <td>64.063819</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>6403</th>
      <td>Burundi</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1965.5</td>
      <td>49.900299</td>
      <td>40.180638</td>
      <td>62.476155</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>6404</th>
      <td>Burundi</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1966.5</td>
      <td>49.952441</td>
      <td>41.055030</td>
      <td>61.440034</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>6405</th>
      <td>Burundi</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1967.5</td>
      <td>49.872070</td>
      <td>41.642689</td>
      <td>60.657010</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>6406</th>
      <td>Burundi</td>
      <td>Neonatal mortality rate</td>
      <td>Total</td>
      <td>Total</td>
      <td>UN IGME estimate</td>
      <td>2023.0</td>
      <td>1968.5</td>
      <td>49.937962</td>
      <td>42.080675</td>
      <td>60.111908</td>
      <td>NaN</td>
      <td>Normal value</td>
      <td>Deaths per 1,000 live births</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
dataset_east_africa.shape
```




    (3312, 17)




```python
dataset_east_africa.to_csv('dataset_east_africa.csv', index = False)
```


```python
dataset_east_africa.isnull().sum()
```




    Geographic area          0
    Indicator                0
    Sex                      0
    Wealth Quintile          0
    Series Name              0
    Series Year              0
    Reference Date           0
    Observation Value        0
    Lower Bound              0
    Upper Bound              0
    Standard Error        3312
    Observation Status       0
    Unit of measure          0
    Series Type           3312
    Series Category       3312
    Series Method         3312
    Interval                 0
    dtype: int64




```python
pip install geopandas matplotlib pandas
```

    Requirement already satisfied: geopandas in c:\users\user\anaconda3\lib\site-packages (1.0.1)
    Requirement already satisfied: matplotlib in c:\users\user\anaconda3\lib\site-packages (3.8.4)
    Requirement already satisfied: pandas in c:\users\user\anaconda3\lib\site-packages (2.2.2)
    Requirement already satisfied: numpy>=1.22 in c:\users\user\anaconda3\lib\site-packages (from geopandas) (1.26.4)
    Requirement already satisfied: pyogrio>=0.7.2 in c:\users\user\anaconda3\lib\site-packages (from geopandas) (0.10.0)
    Requirement already satisfied: packaging in c:\users\user\anaconda3\lib\site-packages (from geopandas) (23.2)
    Requirement already satisfied: pyproj>=3.3.0 in c:\users\user\anaconda3\lib\site-packages (from geopandas) (3.7.1)
    Requirement already satisfied: shapely>=2.0.0 in c:\users\user\anaconda3\lib\site-packages (from geopandas) (2.0.7)
    Requirement already satisfied: contourpy>=1.0.1 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (1.2.0)
    Requirement already satisfied: cycler>=0.10 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (0.11.0)
    Requirement already satisfied: fonttools>=4.22.0 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (4.51.0)
    Requirement already satisfied: kiwisolver>=1.3.1 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (1.4.4)
    Requirement already satisfied: pillow>=8 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (10.3.0)
    Requirement already satisfied: pyparsing>=2.3.1 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (3.0.9)
    Requirement already satisfied: python-dateutil>=2.7 in c:\users\user\anaconda3\lib\site-packages (from matplotlib) (2.9.0.post0)
    Requirement already satisfied: pytz>=2020.1 in c:\users\user\anaconda3\lib\site-packages (from pandas) (2024.1)
    Requirement already satisfied: tzdata>=2022.7 in c:\users\user\anaconda3\lib\site-packages (from pandas) (2023.3)
    Requirement already satisfied: certifi in c:\users\user\anaconda3\lib\site-packages (from pyogrio>=0.7.2->geopandas) (2024.6.2)
    Requirement already satisfied: six>=1.5 in c:\users\user\anaconda3\lib\site-packages (from python-dateutil>=2.7->matplotlib) (1.16.0)
    Note: you may need to restart the kernel to use updated packages.
    


```python
import geopandas as gpd
```


```python
Kenya_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_KEN_shp', layer='gadm41_KEN_0')
Uganda_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_UGA_shp', layer='gadm41_UGA_0')
Tanzania_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_TZA_shp', layer='gadm41_TZA_0')
Somalia_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_SOM_shp', layer='gadm41_SOM_0')
South_Sudan_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_SSD_shp', layer='gadm41_SSD_0')
DRC_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_COD_shp', layer='gadm41_COD_0')
Burundi_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_BDI_shp', layer='gadm41_BDI_0')
Rwanda_shape_file = gpd.read_file (r'C:\Users\User\Downloads\gadm41_RWA_shp', layer='gadm41_RWA_0')

print(Kenya_shape_file, Uganda_shape_file,Tanzania_shape_file, Somalia_shape_file, South_Sudan_shape_file, DRC_shape_file, Burundi_shape_file, Rwanda_shape_file)

```

      GID_0 COUNTRY                                           geometry
    0   KEN   Kenya  MULTIPOLYGON (((39.38014 -4.71792, 39.37986 -4...   GID_0 COUNTRY                                           geometry
    0   UGA  Uganda  POLYGON ((29.91125 -1.47687, 29.91099 -1.47613...   GID_0   COUNTRY                                           geometry
    0   TZA  Tanzania  MULTIPOLYGON (((39.35587 -11.09155, 39.34812 -...   GID_0  COUNTRY                                           geometry
    0   SOM  Somalia  MULTIPOLYGON (((41.61347 -1.6093, 41.61319 -1....   GID_0      COUNTRY                                           geometry
    0   SSD  South Sudan  POLYGON ((29.79568 4.3843, 29.79645 4.38899, 2...   GID_0                           COUNTRY  \
    0   COD  Democratic Republic of the Congo   
    
                                                geometry  
    0  MULTIPOLYGON (((27.24913 -11.79462, 27.2478 -1...     GID_0  COUNTRY                                           geometry
    0   BDI  Burundi  POLYGON ((30.04515 -4.25684, 30.04523 -4.2576,...   GID_0 COUNTRY                                           geometry
    0   RWA  Rwanda  POLYGON ((29.71332 -2.81759, 29.71295 -2.81774...
    


```python
Tanzania_shape_file
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GID_0</th>
      <th>COUNTRY</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>TZA</td>
      <td>Tanzania</td>
      <td>MULTIPOLYGON (((39.35587 -11.09155, 39.34812 -...</td>
    </tr>
  </tbody>
</table>
</div>




```python
K_merged = Kenya_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
U_merged = Uganda_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
T_merged = Tanzania_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
S_merged = Somalia_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
SS_merged = South_Sudan_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
DRC_merged = DRC_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
B_merged = Burundi_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
R_merged = Rwanda_shape_file.merge(dataset_east_africa, how='left', left_on='COUNTRY', right_on='Geographic area')
```


```python
summary_by_country = dataset_east_africa.groupby(['Geographic area'])['Observation Value'].mean().reset_index()
print(summary_by_country)
```

                        Geographic area  Observation Value
    0                           Burundi         123.940558
    1  Democratic Republic of the Congo         134.475557
    2                             Kenya          86.649564
    3                            Rwanda         128.661599
    4                           Somalia         164.553168
    5                       South Sudan         214.029864
    6                          Tanzania         118.784181
    7                            Uganda         122.080628
    


```python
new_K_merged = Kenya_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_U_merged = Uganda_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_T_merged = Tanzania_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_S_merged = Somalia_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_SS_merged = South_Sudan_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_DRC_merged = DRC_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_B_merged = Burundi_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')
new_R_merged = Rwanda_shape_file.merge(summary_by_country, how='left', left_on='COUNTRY', right_on='Geographic area')

#summary_by_country.plot(column='Observation Value', cmap='YlGnBu', linewidth=0.8, ax=ax, edgecolor='0.8', legend=True)
#new_K_merged
```


```python
new_T_merged
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GID_0</th>
      <th>COUNTRY</th>
      <th>geometry</th>
      <th>Geographic area</th>
      <th>Observation Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>TZA</td>
      <td>Tanzania</td>
      <td>MULTIPOLYGON (((39.35587 -11.09155, 39.34812 -...</td>
      <td>Tanzania</td>
      <td>118.784181</td>
    </tr>
  </tbody>
</table>
</div>




```python
fig, ax = plt.subplots(figsize=(15, 10))
new_DRC_merged.plot(column='Observation Value', cmap='YlGnBu', linewidth=0.8, ax=ax, edgecolor='0.8', legend=True)
```




    <Axes: >




    
![png](Benson_Wathigo_files/Benson_Wathigo_66_1.png)
    



```python
import geopandas as gpd
import matplotlib.pyplot as plt

# 1. Combine all the merged datasets into one GeoDataFrame
combined_gdf = gpd.GeoDataFrame(
    pd.concat([new_K_merged, new_U_merged, new_T_merged, new_S_merged, new_SS_merged,new_DRC_merged,new_B_merged,new_R_merged]),
    crs=new_K_merged.crs  # Keep the same coordinate reference system
)


fig, ax = plt.subplots(figsize=(15, 10))

combined_gdf.plot(
    column='Observation Value',   
    cmap='RdBu',                
    linewidth= 1, 
    edgecolor='0.1', 
    ax=ax, 
    legend=True                  
)

# 3. Beautify the map
ax.set_title('Under-Five/Neonatal Mortality Rates in East Africa', fontsize=16)
ax.axis('off')


plt.show()

```


    
![png](Benson_Wathigo_files/Benson_Wathigo_67_0.png)
    


# Plot 3
Show the average trends in the mortality rates over time (plot the average trend line and add the points in the graphic for the country level estimates for each indicator. Expectation: two plots).


```python
dataset_eac = dataset_raw[dataset_raw['Geographic area'].isin(Eatern_Africa_Countries)]
```


```python
under_5_east_africa = dataset_eac[dataset_eac['Indicator'] == 'Under-five mortality rate']
neonatal_east_africa = dataset_eac[dataset_eac['Indicator'] == 'Neonatal mortality rate']

```


```python
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# 2. Group data
# Make sure year column exists (sometimes called 'Time Period' or 'Year')
under_five_eac_grouped = under_5_east_africa.groupby(['Series Year', 'Geographic area'])['Observation Value'].mean().reset_index()
neonatal_eac_grouped = neonatal_east_africa.groupby(['Series Year', 'Geographic area'])['Observation Value'].mean().reset_index()

#  Calculate regional (EAC) average per year
under_five_eac_avg = under_five_eac_grouped.groupby('Series Year')['Observation Value'].mean().reset_index()
neonatal_eac_avg = neonatal_eac_grouped.groupby('Series Year')['Observation Value'].mean().reset_index()

#  Plot UNDER-FIVE MORTALITY
plt.figure(figsize=(14, 7))
sns.lineplot(data=under_five_eac_avg, x='Series Year', y='Observation Value', label='EAC Average', linewidth=2, color='blue', alpha= 0.4)
sns.scatterplot(data=under_five_eac_grouped, x='Series Year', y='Observation Value', hue='Geographic area', s=50, alpha=1)
plt.title('Under-Five Mortality Rate Trends in East Africa', fontsize=16)
plt.xlabel('Year')
plt.ylabel('Mortality Rate (per 1,000 live births)')
plt.legend(bbox_to_anchor=(1, 1), loc='upper left')
plt.grid(True)
plt.show()

# Plot NEONATAL MORTALITY
plt.figure(figsize=(14, 7))
sns.lineplot(data=neonatal_eac_avg, x='Series Year', y='Observation Value', label='EAC Average', linewidth=2, color='red', alpha =0.4)
sns.scatterplot(data=neonatal_eac_grouped, x='Series Year', y='Observation Value', hue='Geographic area', s=50, alpha=1)
plt.title('Neonatal Mortality Rate Trends in East Africa', fontsize=16)
plt.xlabel('Year')
plt.ylabel('Mortality Rate (per 1,000 live births)')
plt.legend(bbox_to_anchor=(1, 1), loc='upper left')
plt.grid(True)
plt.show()

```


    
![png](Benson_Wathigo_files/Benson_Wathigo_71_0.png)
    



    
![png](Benson_Wathigo_files/Benson_Wathigo_71_1.png)
    


# Quiz
Based on your visualizations, identify the countries with the highest under-five mortality rates in East Africa and the highest neonatal mortality.

As of 2023, countries with the highest under-5 mortality rates:
1. South Sudan
2. Somalia
3. Democratic Republic of the Congo
4. Rwanda
5. Burundi
6. Uganda
7. Tanzania
8. Kenya

As of 2023, the countries with the highest neonatal mortality rates are:
1. South Sudan
2. Somalia
3. Rwanda
4. Uganda
5. Burundi
6. Democratic Republic of the Congo
7. Tanzania
8. Kenya

# Final Remarks

This analysis has been done using Python in Jupyter Notebooks and then converted to an RMD document as requested. I would appreciate feedback on any key areas I might have missed out on during the analysis or a thumbs-up if done correctly. I'm looking forward to hearing from you.

Regards,
Benson Wathigo Ngotho





